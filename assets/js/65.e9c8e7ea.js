(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{396:function(s,n,a){"use strict";a.r(n);var e=a(14),t=Object(e.a)({},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("strong",[s._v("原理")])]),s._v(" "),a("hr"),s._v("\nvue的v-model是一个十分强大的指令,它可以自动让input里的值自动和你设定的值进行绑定,它是如何实现的呢?\n"),a("p",[a("strong",[s._v("1.语法糖:使用v-model来进行数据双向绑定如下:")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<input v-model="ying">\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("2.实际上是这样实现的:")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<input v-bind:value="ying" v-on:input="ying=$event.target.value">\n<a-input v-bind:value="ying" v-on:input="ying=arguments[0]"></a-input>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("3.其实v-model只不过是一个语法糖而已,真正的实现靠的还是")])]),s._v(" "),a("ol",[a("li",[s._v("v-bind:绑定响应式数据")]),s._v(" "),a("li",[s._v("触发 input 事件 并传递数据 (重点)")])]),s._v(" "),a("h3",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("strong",[s._v("方法")])]),s._v(" "),a("hr"),s._v(" "),a("h4",{attrs:{id:"父子组件通信，都是单项的，很多时候需要双向通信。方法如下："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#父子组件通信，都是单项的，很多时候需要双向通信。方法如下：","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("strong",[s._v("父子组件通信，都是单项的，很多时候需要双向通信。方法如下：")])]),s._v(" "),a("ol",[a("li",[s._v("父组件使用：text.sync=\"aa\" 子组件使用$emit('update:text', 'text改变后的值')")]),s._v(" "),a("li",[s._v("父组件传值直接传对象，子组件收到对象后可随意改变对象的属性，但不能改变对象本身。")]),s._v(" "),a("li",[s._v("父组件使用： v-model,子组件使用通过监听value和暴露input事件来实现v-model")]),s._v(" "),a("li",[s._v("父组件使用： v-model 子组件使用model")])]),s._v(" "),a("p",[a("strong",[s._v("(1)使用sync")])]),s._v(" "),a("p",[s._v("父组件:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<a-input :value.sync="text" ></a-input>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("子组件:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n <div>\n     <input v-model="currentValue" @input="handleModelInput">\n </div>\n</template>\n<script>\n export default {\n  props: { \n    value: [String,Number,Date],\n  },\n  methods: {\n       handleModelInput() {\n         this.$emit("update:value", this.currentValue);\n       }\n  },\n  watch: {\n     value(newValue) {\n         this.currentValue = newValue\n     }\n<\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[a("strong",[s._v("(2)使用v-model 子组件触发 input 事件 并传递数据，并对value进行监听")])]),s._v(" "),a("p",[s._v("父组件:")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("input v"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("model"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("子组件:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  <input v-model="currentValue" @input="handleModelInput">\n  props:{\n      value:[String,Number],\n  }\n  handleModelInput() {\n      this.$emit(\'change\',this. currentValue)\n  }\n  watch: {\n      value(newValue) {\n          this.currentValue = newValue\n      }\n  }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("strong",[s._v("(3)使用model prop属性 even事件change")])]),s._v(" "),a("p",[s._v("父组件:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<a-input v-model="text">\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("子组件:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<template>\n <div>\n     <input v-model=\"currentValue\" @input=\"handleModelInput\">\n </div>\n</template>\n<script>\n export default {\n  model: {  \n   prop: 'value',\n   event: 'change'\n  },\n  props: {\n    value:[String,Number], \n  },\n  methods: {\n   handleModelInput() {\n      this.$emit('change', this.currentValue)\n   }\n  },\nwatch: {\n    value(newValue) {\n        this.currentValue = newValue\n    }\n }\n<\/script>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])])])},[],!1,null,null,null);n.default=t.exports}}]);